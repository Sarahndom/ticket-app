{% extends "base.twig" %}
{% block content %}
{# Protect the page #}
<script>
  if (localStorage.getItem('ticketapp_session') === null) {
    alert("Your session has expired â€” please log in again.");
    window.location.href = 'login.php';
  }
</script>

<main class="container">
  <div class="page-header">
    <h1>Ticket Management</h1>
    <a href="ticket_new.php" class="btn btn-primary">Create New Ticket</a>
  </div>

  {# Container for JavaScript to list tickets (REQUIRED) #}
  <div class="ticket-list" id="ticket-list">
    {# JavaScript will populate this area with ticket cards #}
    <p id="loading-tickets">Loading tickets...</p>
  </div>
</main>
{% endblock %}